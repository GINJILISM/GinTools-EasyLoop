# Codex Cloud 実行ポリシー（このリポジトリ向け）

このファイルは、Codex Cloud（リモート実行）で作業する際の共通指示です。

## 目的
- Flutter と iOS（Swift/Xcode）の品質チェックを継続的に行う
- 変更は品質改善・エラー解消を優先し、機能変更は最小化する

## 実行方針
1. 可能な場合は **Codex 5.3 以上の最新モデル** を使用し、深い思考で計画して進める
2. 事実（実行ログ）と推測（コード読解）を明確に分離して報告する
3. 実行できないコマンドは無理に実行しない（理由を明記）
4. UI仕様変更は行わない
5. 命名変更・整形のみの差分は最小限にする
6. 不明点は曖昧にせず、未確認事項として明示する

## 標準チェック順序
### Flutter
- `flutter pub get`
- `flutter analyze`
- `flutter test`
- 失敗時は「解析エラー / テスト失敗 / 環境依存」に分類し、直せるものを修正後に再実行

### iOS（Cloud制約を前提）
- `xcodebuild` / iOS Simulator は Cloud で実行しない
- 利用可能なら SwiftLint 等の静的チェックを実行
- 利用不可なら「ツール未導入・設定なし」を明記
- Swiftコードは読解で潜在リスク（force unwrap、危険なキャスト、可読性低下点）を点検

## 最終報告テンプレート（必須）
- 実行コマンド一覧
- 実行できた項目 / 実行できなかった項目
- Flutter: analyze/test結果、修正ファイル、残課題
- iOS: 実行したチェック、xcodebuild未実行理由、潜在問題（推測として明記）、修正ファイル
- ローカルMacで次に実行すべきコマンド候補
- 同一原因のエラーは重複報告しない（1次原因と派生を分離）
